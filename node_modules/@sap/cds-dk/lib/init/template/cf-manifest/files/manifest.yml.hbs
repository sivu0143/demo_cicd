# Generated manifest.yml based on template version 0.1.0
# appName = {{appName}}
# language={{language}}
# multitenancy={{hasMultitenancy}}
---
applications:
# -----------------------------------------------------------------------------------
# Backend Service
# -----------------------------------------------------------------------------------
- name: {{appName}}-srv
  random-route: true  # for development only
{{#isNodejs}}
  path: {{& srvPath}}
  memory: 256M
  buildpack: nodejs_buildpack
{{/isNodejs}}
{{#isJava}}
  path: {{& srvPath}}/target/{{archiveName}}
  memory: 1G
  disk_quota: 1G
  env:
    SPRING_PROFILES_ACTIVE: cloud
    JBP_CONFIG_COMPONENTS: "jres: ['com.sap.xs.java.buildpack.jdk.SAPMachineJDK']"
    JBP_CONFIG_SAP_MACHINE_JDK: '{ version: 21.+ }'
  buildpack: sap_java_buildpack_jakarta
{{/isJava}}
  services:
{{#hasHana}}
  - {{appName}}-db
{{/hasHana}}
{{#hasXsuaa}}
  - {{appName}}-auth
{{/hasXsuaa}}

{{#hasHana}}
{{^hasMultitenancy}}
# -----------------------------------------------------------------------------------
# HANA Database Content Deployer App
# -----------------------------------------------------------------------------------
- name: {{appName}}-{{db.name}}-deployer
  path: {{& db.path}}
  no-route: true
  health-check-type: process
  memory: 256M
  instances: 1
  buildpack: nodejs_buildpack
  services:
  - {{appName}}-db
{{/hasMultitenancy}}
{{/hasHana}}
