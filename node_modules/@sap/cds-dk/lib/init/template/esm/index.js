const { readProject } = require('../../projectReader')
const { merge } = require('../../merge')

module.exports = class EsmTemplate extends require('../../plugin') {

  static help() {
    return 'ESM-compatible Node.js project'
  }

  async run() {
    const project = readProject()
    const { configFile } = project
    await merge(__dirname, 'files/package.json.hbs').into(configFile, { with: project, forceOverwrite: true })
  }

}
