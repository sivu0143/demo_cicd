#!/bin/zsh

# compinit is required but added to ~/.zshrc so user can remove it if it is already loaded
# autoload -Uz compinit && compinit

CDS_COMMAND="cds"

_completeCds() {
    # double quoting needed to avoid word 'h' to be recognized as command shortcut 'help'
    compadd -S '' -V 'force no sort' -- `${CDS_COMMAND} completion --shell zsh --prev "'${words[CURRENT-1]}'" --curr "'${words[CURRENT]}'" --line "'${words}'"`
}

compdef _completeCds ${CDS_COMMAND}
